Analysis Diary - Gaze contingency study

EEG and ET onset fixing

There was a bug on the Matlab script during the learning phase (videos). If the pause or attention grabber button was pressed during this phase, whenever the video was resumed the ET events were completely substitute with the wrong times and more triggers than necessary were sent to NetStation.
The problem was solved offline in the files that had this problem in the following way:
    'report_videos_with_problems.py' detected the videos that had the issue described with the ET onset video file.
        This script generated a new video onset file to match the GSA format which removed the extra markers due to the beginning and end of the video. The new onset video files are called onset_video_PX.txt
        'participant_video_info.txt' was created as a summary of the videos with some timing problem
    save_EEG_events.m saved the EEG events from .raw files in a txt file containing the event name and time
    'check_number_events_eeg_et.py' detected in the corrupted files the extra EEG events and a mismatch in the number of events between EEG and eye tracking (due to this problem)
        With this information, each ET file was corrected manually using excel and the EEG onset times.
        All the extra EEG events were marked but could not be removed because NetStation files didnâ€™t allow to edit the event data. The events can be removed manually as invalid trials after data segmentation.
    
'Fixing_sumary_def.xlsx' contains the summary of all the changes made in every file, EEG and ET onset times. This info is useful to remove the extra EEG events during analysis and to keep track of the changes made.
Git repository available: https://github.com/esdomar/fixing_onset_times

Check ET quality data:
- 'compute_number_trials_watched.py' --> Opens every trial onset time and counts the number of trials that most likely the infant watched (unless for some experiment the experiment went on going after the child stopped attending to the screen)
- 'compute_percentage_etdata.py' --> Saves two txt files per participant. One with the percentage of ET validity data per trial. The second containing the ET data indexes corresponding to the onset times of every trial. It also saves a general file containing the number of trials that have been seen with different ET validity data (40, 60, 80, 90) per participant

Calculate mean time spent in learning phase and ERP phase: (9/10/2014):
-mean_time_spent.py --> Calculates the time spent on each phase of the experiment per participant. Saves a txt file 'mean_time_spent.txt' with two columns: 1st time learning phase, 2nd ERP.
